<link href="../css/passengers.css" rel="stylesheet">
<link href="../css/formColors.css" rel="stylesheet">


<div class="container" style="margin-bottom: 100px; margin-top: 50px;" ng-controller="passengerViewController">


  <!-- Progress bar goes here   -->
  <!-- <div class="progtrckr-table" style="margin-bottom: 50px;">
  <div class="progtrckr-done">Select Flight</div>
  <div class="progtrckr-doing">Passengers details</div>
  <div class="progtrckr-todo">Payement </div>
  <div class="progtrckr-todo">Complete!</div>
  </div> -->
  <link href="css/stepper.css" rel="stylesheet">
  <div class="mdl-card mdl-shadow--2dp">

    <div class="mdl-card__supporting-text">

      <div class="mdl-stepper-horizontal-alternative">
        <div class="mdl-stepper-step active-step step-done">
          <a href="/flights">
          <div class="mdl-stepper-circle"><span>1</span></div>
          <div class="mdl-stepper-title">Select Flight</div>
          <div class="mdl-stepper-bar-left"></div>
          <div class="mdl-stepper-bar-right"></div>
        </a>
        </div>
        <div class="mdl-stepper-step active-step">
          <div class="mdl-stepper-circle"><span>2</span></div>
          <div class="mdl-stepper-title">Passengers Details</div>
          <div class="mdl-stepper-bar-left"></div>
          <div class="mdl-stepper-bar-right"></div>
        </div>
        <div class="mdl-stepper-step">
          <div class="mdl-stepper-circle"><span>3</span></div>
          <div class="mdl-stepper-title">Confirm Information</div>
          <div class="mdl-stepper-bar-left"></div>
          <div class="mdl-stepper-bar-right"></div>
        </div>
        <div class="mdl-stepper-step">
          <div class="mdl-stepper-circle"><span>4</span></div>
          <div class="mdl-stepper-title">Payment</div>
          <div class="mdl-stepper-bar-left"></div>
          <div class="mdl-stepper-bar-right"></div>
        </div>
      </div>

    </div>

  </div>

  <!-- Flights Info goes here -->
  <ul class="collection with-header z-depth-3" id="flightsInfo">

  <!-- Going Trip -->
   <li class="collection-header red darken-1"> <h3 class="white-text" > Flight Information </h3></li>
   <div>
     <li class="flight-header collection-header  grey lighten-3">
      <h4>{{outgoingFlight.origin}} - {{outgoingFlight.destination}}</h4>
      <div class="flight-date">{{departureDate}}</div></li>
      <div class="row flight-way">
        <div class="col s10 m6 l3">
          <p class="flight-info-date">
            <i class="material-icons schedule-icon" style="margin-right:5px">schedule</i><span>  {{outgoingFlight.departureDateTime}} - {{outgoingFlight.arrivalDateTime}}</span>
          </p>
        </div>
        <div class="col s10 m6 l3">
          <p class="logo-div">
             <img tooltipped data-position="right" data-delay="50" data-tooltip="{{outgoingFlight.Airline}}" ng-show = "outgoingFlight.Airline == airline" class = "logo" src="assets/images/flight-logo.png">

              <i tooltipped data-position="right" data-delay="50" data-tooltip="{{outgoingFlight.Airline}}" ng-hide = "outgoingFlight.Airline == airline" class="small material-icons other-airport" >local_airport</i>
          </p>
        </div>

        <div class="col s10 m6 l3">
          <p class="flight-info-data">
              {{flightClass}}
          </p>
        </div>
        <div class="col s10 m6 l3">
          <p class="flight-info-data">
           {{outgoingFlight.cost}} {{outgoingFlight.currency}}
          </p>
        </div>
      </div>

  </div>

  <!-- Return Trip -->
  <li ng-show ="tripType == 2" class="flight-header collection-header  grey lighten-3">
    <h4>{{returnFlight.origin}} - {{returnFlight.destination}}</h4>
    <div class="flight-date">{{arrivalDate}}</div>
  </li>
   <div class="row flight-way" ng-show ="tripType == 2" style="">
        <div class="col s10 m6 l3">
          <p class="flight-info-date">
            <i class="material-icons schedule-icon" style="margin-right:5px">schedule</i>  <span>{{returnFlight.departureDateTime}} - {{returnFlight.departureDateTime}}</span>
          </p>
        </div>
        <div class="col s10 m6 l3">
          <p class="logo-div">
             <img tooltipped data-position="right" data-delay="50" data-tooltip="{{returnFlight.Airline}}" ng-show = "returnFlight.Airline == airline" class = "logo" src="assets/images/flight-logo.png">
                  <i tooltipped data-position="right" data-delay="50" data-tooltip="{{returnFlight.Airline}}" ng-hide = "returnFlight.Airline == airline" class="small material-icons other-airport" >local_airport</i>
          </p>
        </div>

        <div class="col s10 m6 l3">
          <p class="flight-info-data">
             {{flightClass}}
          </p>
        </div>
        <div class="col s10 m6 l3">
          <p class="flight-info-data">
            {{returnFlight.cost}} {{returnFlight.currency}}
          </p>
        </div>
      </div>
</ul>


<!-- Form goes here  -->
<!-- <div class="container col s12 m6"> -->
<ul class="collection with-header  z-depth-3" id="passengerInfo">
 <li class="collection-header red darken-1"> <h3 class="white-text"> Passengers Information </h3></li>


 <div class="row">
   <form  ng-submit="submitForm()" novalidate>
    <ul class="collection with-header" ng-repeat="adult in adults track by $index">

     <li class="collection-header  grey lighten-3 "><h4>Passenger {{$index + 1}} - Adult</h4></li>
     <li  class="collection-item">
       <div class="container">
         <div class="row">
           <div class="input-field col s6">
            <i class="material-icons prefix">account_circle</i>
             <input id="firstName[{{$index}}]" type="text" class="validate" ng-model="formData[$index].firstName" required>
             <label for="firstName[{{$index}}]">First Name</label>
             <span class="validationError"ng-show="errors[{{$index}}].firstName"> <i class="tiny material-icons">error</i> This field is required. </span>
           </div>
           <div class="input-field col s6">
             <i class="material-icons prefix">account_circle</i>
             <input id="lastName[{{$index}}]" type="text" class="validate" ng-model="formData[$index].lastName" required>
             <label for="lastName[{{$index}}]">Last Name</label>
             <span class="validationError"ng-show="errors[{{$index}}].lastName"><i class="tiny material-icons">error</i> This field is required. </span>
           </div>
         </div>
         <div class="row">
           <div class="input-field col s6">
             <i class="material-icons prefix">email</i>
             <input id="email[{{$index}}]" type="email" class="validate" ng-model="formData[$index].email" required>
             <label for="email[{{$index}}]">Email</label>
             <span class="validationError"ng-show="errors[{{$index}}].emailAddressNotValid"><i class="tiny material-icons">error</i> Invalid email address. </span>
           </div>
           <div class="input-field col s6">
             <i class="material-icons prefix">pan_tool</i>
             <input id="passportNumber[{{$index}}]" type="text" class="validate" ng-model="formData[$index].passportNum" required>
             <label for="passportNumber[{{$index}}]">Passport Number</label>
             <span class="validationError"ng-show="errors[{{$index}}].passportNumber"><i class="tiny material-icons">error</i> This field is required. </span>
             <span class="validationError"ng-show="errors[{{$index}}].passportNumberLength && !errors[{{$index}}].passportNumber"><i class="tiny material-icons">error</i> Passport number should not be less than 7 characters.</span>

           </div>
         </div>
         <div class="row">
           <div class="input-field col s6">
             <i class="material-icons prefix">location_on</i>
             <input id="nationality[{{$index}}]" type="text" class="validate" ng-model="formData[$index].nationality" required>
             <label for="nationality[{{$index}}]">Nationality</label>
             <span class="validationError"ng-show="errors[{{$index}}].nationality"><i class="tiny material-icons">error</i> This field is required. </span>
           </div>
          <div class="input-field col s6">
            <i class="material-icons prefix">today</i>
                  <input id="birthDate[{{$index}}]" ng-model="formData[$index].dateOfBirth" input-date type="text"  select-years="60" required>
                  <label for="birthDate[{{$index}}]">Birth Date</label>
                  <span class="validationError"ng-show="errors[{{$index}}].birthDateRequired"><i class="tiny material-icons">error</i> This field is required. </span>
                  <span class="validationError"ng-show="errors[{{$index}}].birthDateNotValid"><i class="tiny material-icons">error</i> An adult should be older than 12 years old. </span>
          </div>
         </div>
       </div>

     </li>
   </ul>


   <ul class="collection with-header" ng-repeat="child in children track by $index">

    <li class="collection-header  grey lighten-3 "><h4>Passenger {{($index + adults.length) + 1}} - Child</h4></li>
    <li  class="collection-item">
      <div class="container">
        <div class="row">
          <div class="input-field col s6">
           <i class="material-icons prefix">account_circle</i>
            <input id="firstNameC[{{$index}}]" type="text" class="validate" ng-model="formDataChildren[$index].firstName" required>
            <label for="firstNameC[{{$index}}]">First Name</label>
            <span class="validationError"ng-show="errorsChildren[{{$index}}].firstName"><i class="tiny material-icons">error</i> This field is required. </span>
          </div>
          <div class="input-field col s6">
            <i class="material-icons prefix">account_circle</i>
            <input id="lastNameC[{{$index}}]" type="text" class="validate" ng-model="formDataChildren[$index].lastName" required>
            <label for="lastNameC[{{$index}}]">Last Name</label>
            <span class="validationError"ng-show="errorsChildren[{{$index}}].lastName"><i class="tiny material-icons">error</i> This field is required. </span>
          </div>
        </div>
        <div class="row">

          <div class="input-field col s6">
            <i class="material-icons prefix">pan_tool</i>
            <input id="passportNumberC[{{$index}}]" type="text" class="validate" ng-model="formDataChildren[$index].passportNum" required>
            <label for="passportNumberC[{{$index}}]">Passport Number</label>
            <span class="validationError"ng-show="errorsChildren[{{$index}}].passportNumber"><i class="tiny material-icons">error</i> This field is required. </span>
            <span class="validationError"ng-show="errorsChildren[{{$index}}].passportNumberLength && !errorsChildren[{{$index}}].passportNumber"><i class="tiny material-icons">error</i> Passport number should not be less than 7 characters. </span>
          </div>
          <div class="input-field col s6">
            <i class="material-icons prefix">today</i>
                  <input id="birthDateC[{{$index}}]" ng-model="formDataChildren[$index].dateOfBirth" input-date type="text"  select-years="60" required>
                  <label for="birthDateC[{{$index}}]">Birth Date</label>
                  <span class="validationError"ng-show="errorsChildren[{{$index}}].birthDateRequired"><i class="tiny material-icons">error</i> This field is required. </span>
                  <span class="validationError"ng-show="errorsChildren[{{$index}}].birthDateNotValid"><i class="tiny material-icons">error</i> A child should be younger than 12 years old. </span>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s6">
            <i class="material-icons prefix">location_on</i>
            <input id="nationalityC[{{$index}}]" type="text" class="validate" ng-model="formDataChildren[$index].nationality" required>
            <label for="nationalityC[{{$index}}]">Nationality</label>
            <span class="validationError"ng-show="errorsChildren[{{$index}}].nationality"><i class="tiny material-icons">error</i> This field is required. </span>
          </div>
        </div>
      </div>

    </li>
  </ul>
   <button style="float:right; margin-right:20px;"class="btn waves-effect waves-light red darken-1" type="submit" name="action"> Continue
   </button>
 </form>
</div>
</ul>
<!-- </div> -->

</div>
